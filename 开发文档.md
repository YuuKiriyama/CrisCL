# 德州扑克积分统计系统 - 项目说明

## 📦 项目概述

本项目已完成模块化重构，采用现代化的React + Vite开发方式，提供更好的开发体验和代码可维护性。

## 🗂️ 文件说明

### 开发版本（推荐）
使用模块化代码结构，支持热更新开发：

```
src/
├── components/          # React组件
│   ├── Icons.jsx       # SVG图标
│   ├── CurrentGame.jsx # 当前游戏页面
│   ├── History.jsx     # 历史记录页面
│   └── PlayerDetail.jsx # 玩家详情页面
├── utils/              # 工具函数
│   ├── storage.js      # 本地存储
│   └── helpers.js      # 辅助函数
├── App.jsx             # 主应用
├── main.jsx            # 入口文件
└── index.css           # 样式
```

### 单文件版本（旧版，已废弃）
- `poker-tracker.html` - 所有代码打包在一个HTML文件
- `index.html` - 同上（备份）

**注意：** 单文件版本已不再维护，建议使用开发版本。

## 🚀 启动方式

### 方式1: 双击启动（最简单）
```
双击 "启动开发服务器.command" 文件
```

### 方式2: 命令行启动
```bash
cd /Users/ylt/Desktop/CrisCL
npm run dev
```

### 方式3: 使用旧版单文件（不推荐）
```bash
双击 "启动服务器.command" 文件
然后访问 http://[IP]:8080/poker-tracker.html
```

## 💻 开发说明

### 安装依赖
```bash
npm install
```

### 启动开发服务器
```bash
npm run dev
```
- 自动打开 http://localhost:8080
- 支持热模块替换（HMR）
- 修改代码自动刷新

### 构建生产版本
```bash
npm run build
```
- 输出到 `dist/` 目录
- 自动优化和压缩
- 生成静态HTML/CSS/JS文件

### 预览生产版本
```bash
npm run preview
```

## 📱 移动端测试

1. 启动开发服务器
2. 在终端查看显示的IP地址
3. 手机浏览器访问：`http://[显示的IP]:8080`
4. 确保手机和电脑在同一WiFi网络

## 🔧 技术栈

- **React 18**: UI框架
- **Vite**: 构建工具（快速、现代）
- **Tailwind CSS**: 样式框架
- **LocalStorage**: 数据持久化

## 📝 代码结构说明

### 组件职责

**App.jsx**
- 应用主入口
- 状态管理（游戏数据、历史记录、玩家列表）
- 视图切换逻辑

**CurrentGame.jsx**
- 游戏配置界面
- 玩家管理
- 盈亏计算展示
- 游戏控制（开始/结束/保存）

**History.jsx**
- 历史记录列表
- 玩家筛选
- 统计数据展示
- 收藏玩家管理

**PlayerDetail.jsx**
- 单个玩家详细信息
- 历史对局记录
- 统计图表

**Icons.jsx**
- 所有SVG图标组件
- 便于统一管理和复用

### 工具函数

**storage.js**
- LocalStorage封装
- 异步API接口

**helpers.js**
- 日期格式化
- 盈亏计算
- 时长计算
- 其他通用工具函数

## 🎯 开发建议

### 添加新功能
1. 在对应组件文件中修改
2. 如需新组件，在 `src/components/` 创建
3. 如需新工具函数，在 `src/utils/` 添加

### 修改样式
1. 使用Tailwind CSS类名
2. 特殊样式在 `src/index.css` 添加

### 调试
1. 使用浏览器开发者工具
2. React DevTools 扩展
3. Vite 热更新实时预览

## 🐛 常见问题

### 1. npm install 失败
```bash
# 清理缓存重试
rm -rf node_modules package-lock.json
npm install
```

### 2. 端口被占用
修改 `vite.config.js` 中的 port 值

### 3. 移动端无法访问
- 检查防火墙设置
- 确认WiFi网络相同
- 尝试使用本机IP地址

### 4. 修改代码不生效
- 检查文件是否保存
- 重启开发服务器
- 清除浏览器缓存

## 📈 后续计划

- [ ] 数据导出功能
- [ ] 数据导入功能
- [ ] 图表统计功能
- [ ] 多语言支持
- [ ] 主题切换
- [ ] 云端同步（可选）

## 🔗 相关链接

- [React文档](https://react.dev/)
- [Vite文档](https://vitejs.dev/)
- [Tailwind CSS文档](https://tailwindcss.com/)

---

**最后更新时间**: 2025-10-28

