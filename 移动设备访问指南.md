# 移动设备访问指南

## 🚀 快速访问

### 方法1：直接访问（推荐）
在移动设备浏览器中访问：
```
http://10.245.74.88:3000
```

### 方法2：通过测试页面
访问API连接测试页面：
```
http://10.245.74.88:3000/api-test.html
```

## 📱 移动设备访问步骤

1. **确保设备在同一网络**
   - 移动设备和电脑连接到同一个WiFi网络

2. **获取电脑IP地址**
   - 在电脑上运行：`ifconfig | grep "inet " | grep -v 127.0.0.1`
   - 或者查看网络设置中的IP地址

3. **访问应用**
   - 在移动设备浏览器中输入：`http://[电脑IP]:3000`
   - 例如：`http://10.245.74.88:3000`

## 🔧 自动API检测功能

应用现在具备智能API地址检测功能：

- **自动检测**：应用会自动尝试多个API地址
- **候选地址**：
  - `http://localhost:3001/api`
  - `http://[设备IP]:3001/api`
  - `http://10.245.74.88:3001/api`
  - `http://192.168.1.100:3001/api`
  - `http://192.168.0.100:3001/api`

- **连接状态**：页面右上角显示连接状态
  - 🟢 绿色圆点：在线
  - 🔴 红色圆点：离线

- **手动刷新**：点击"刷新"按钮重新检测API地址

## 🛠️ 故障排除

### 如果显示离线：

1. **检查服务器状态**
   ```bash
   # 检查后端服务器
   curl http://10.245.74.88:3001/api/health
   
   # 检查前端服务器
   curl http://10.245.74.88:3000
   ```

2. **重启服务器**
   ```bash
   # 重启后端服务器
   cd backend && npm start
   
   # 重启前端服务器（绑定所有接口）
   cd frontend && npm run dev -- --host 0.0.0.0
   ```

3. **检查防火墙**
   - 确保3000和3001端口没有被防火墙阻止

4. **使用测试页面**
   - 访问 `http://[IP]:3000/api-test.html`
   - 查看详细的连接测试结果

## 📋 服务器启动命令

### 后端服务器
```bash
cd backend
npm start
```

### 前端服务器（支持移动设备访问）
```bash
cd frontend
npm run dev -- --host 0.0.0.0
```

## 🌐 网络配置

- **后端API**: `http://[IP]:3001/api`
- **前端应用**: `http://[IP]:3000`
- **测试页面**: `http://[IP]:3000/api-test.html`

## ✅ 验证步骤

1. 在电脑上访问 `http://localhost:3000` - 应该正常显示
2. 在移动设备上访问 `http://[IP]:3000` - 应该正常显示
3. 检查页面右上角的连接状态 - 应该显示绿色圆点
4. 尝试添加玩家和保存游戏 - 应该正常工作

## 🔍 调试信息

打开浏览器开发者工具，查看控制台日志：
- API地址检测过程
- 连接状态变化
- 数据同步日志

如果遇到问题，请查看控制台日志获取详细错误信息。
